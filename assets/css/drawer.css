/* Drawer overlay */
.drawerBackdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.35);
  opacity:0;visibility:hidden;transition:opacity .18s ease;z-index:90;
}

/* Drawer panel */
.drawer{
  position:fixed;inset:0 auto 0 0;width:86vw;max-width:420px;
  background:#f9f9f7;border-right:1px solid #0002;translate:-100% 0;
  transition:translate .22s ease;z-index:100;overflow:auto;
  display:flex;flex-direction:column;
}
body.drawer-open .drawer{translate:0 0}
body.drawer-open .drawerBackdrop{opacity:1;visibility:visible}

/* Brand strip (top) */
.drawer .brand{
  display:flex;gap:10px;align-items:center;padding:12px;border-bottom:1px solid #0002;
  background:#fff;
}
.drawer .brand img{width:36px;height:36px;border-radius:8px}
.drawer .brand .mono{font:12px/1.2 ui-monospace,SFMono-Regular,Consolas,monospace;color:#456}

/* Nav groups (accordion) */
.drawer nav{padding:8px 6px}
.drawer .group{border:1px solid #0002;border-radius:10px;background:#fff;margin:8px 6px;overflow:hidden}
.drawer .group > button{
  width:100%;display:flex;align-items:center;gap:10px;padding:12px 14px;background:#fff;border:0;cursor:pointer;
  font-weight:700;color:#123;
}
.drawer .group > button .icon{width:22px}
.drawer .group > button .chev{margin-left:auto;transition:transform .18s ease}
.drawer .panel{max-height:0;overflow:hidden;transition:max-height .22s ease}
.drawer .group[aria-expanded="true"] .panel{max-height:1200px}
.drawer .group[aria-expanded="true"] > button .chev{transform:rotate(90deg)}

.drawer a.item{
  display:flex;align-items:center;gap:12px;padding:12px 16px;text-decoration:none;color:#223;border-top:1px solid #0001;
}
.drawer a.item:hover{background:#f4f4ef}
.drawer a.item .icon{width:20px}

/* Second-level (nested) */
.drawer .subgroup{border-top:1px solid #0001}
.drawer .subgroup > button{
  width:100%;display:flex;align-items:center;gap:10px;padding:12px 16px;background:#fbfbfa;border:0;cursor:pointer;
  font-weight:600;color:#234;
}
.drawer .subgroup .chev{margin-left:auto;transition:transform .18s ease}
.drawer .subpanel{max-height:0;overflow:hidden;transition:max-height .22s ease;border-top:1px solid #0001;background:#fff}
.drawer .subgroup[aria-expanded="true"] .subpanel{max-height:900px}
.drawer .subgroup[aria-expanded="true"] .chev{transform:rotate(90deg)}

/* ─── Bottom area ─── */
.drawerFooter{
  margin-top:auto;
  padding:12px 10px 14px;
  border-top:1px solid #0002;
  background:#fff;
}

/* Logout button — make it look like a real, raised control */
.drawerFooter .item.logout{
  display:flex;align-items:center;gap:10px;
  border:1px solid #d5d5d5;
  border-radius:12px;
  padding:12px 16px;
  margin:0 0 10px 0;
  color:#17351a;
  background:linear-gradient(#ffffff, #f2f2f2);
  box-shadow:
    0 1px 0 #fff inset,              /* soft inner highlight */
    0 1px 2px rgba(0,0,0,.08);       /* subtle lift */
  text-decoration:none;
  font-weight:700;
}
.drawerFooter .item.logout .icon{width:20px}
.drawerFooter .item.logout:hover{
  background:linear-gradient(#fff, #ededed);
}
.drawerFooter .item.logout:active{
  transform:translateY(1px);
  box-shadow:
    0 0 0 #fff inset,
    0 0 0 rgba(0,0,0,0.0);
}

/* Brand + version (bottom) */
.drawerFooter .brandBottom{
  display:flex;align-items:center;gap:10px;margin-top:2px;
}
.drawerFooter .brandBottom img{width:28px;height:28px;border-radius:6px}
.drawerFooter .brandBottom .sub{font:12px/1.25 ui-monospace,SFMono-Regular,Consolas,monospace;color:#456}

.drawerFooter .appVersion{
  margin-top:6px;font:12px/1.25 ui-monospace,SFMono-Regular,Consolas,monospace;color:#456;
}

/* Safe space for iOS gesture bar */
.drawer::after{content:"";display:block;height:10px}