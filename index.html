<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dowson Farms</title>
  <base href="./"/>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#1B5E20"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="apple-mobile-web-app-title" content="Dowson Farms"/>
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png"/>

  <!-- Favicon(s) -->
  <link rel="icon" sizes="192x192" href="assets/icons/icon-192.png">
  <link rel="icon" sizes="512x512" href="assets/icons/icon-512.png">

  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/theme.css"/>
</head>
<body>

  <!-- Header -->
  <header class="app-header">
    <button id="hamburger" class="hamburger" aria-label="Toggle menu">☰</button>
    <div class="brand">
      <div class="logo">
        <!-- use any of your icons here -->
        <img src="assets/icons/farm-tractor.png" alt="DF"/>
      </div>
      <div class="title">Dowson Farms</div>
    </div>
    <div class="hdr-actions">
      <span id="df-clock" aria-live="polite"></span>
      <button id="logout" class="icon-btn">Logout</button>
    </div>
  </header>

  <!-- Breadcrumbs -->
  <nav class="breadcrumbs">
    <ol id="crumbs"><li><span>Home</span></li></ol>
  </nav>

  <!-- Drawer -->
  <aside id="drawer" class="drawer" aria-label="Navigation">
    <div class="drawer-hd">Menu</div>
    <ul id="nav" class="nav"></ul>
  </aside>
  <div id="backdrop" class="backdrop" aria-hidden="true"></div>

  <!-- Content -->
  <main class="content">
    <h1>Search your operation</h1>
    <section class="card">
      <div class="searchbar">
        <input id="global-search" type="text" placeholder="Ask: “planting on North Field 2023”, “maintenance for S780”, “Jake’s hours last week”…" autocomplete="off">
        <button class="icon-btn" title="Voice (placeholder)">🎤</button>
      </div>
    </section>

    <section class="card">
      <h2 style="margin-top:0;">Quick actions</h2>
      <div class="row">
        <a class="btn" href="crop-production/">📊 View & Analyze Crop Production</a>
        <a class="btn" href="crop-production/add.html">➕ Add Crop Records</a>
        <a class="btn" href="equipment/">📊 View & Analyze Equipment</a>
        <a class="btn" href="equipment/add.html">➕ Add Equipment</a>
        <a class="btn" href="teams-partners/">📊 View & Analyze Teams & Partners</a>
        <a class="btn" href="teams-partners/add.html">➕ Add Team Member</a>
      </div>
    </section>

    <section class="card">
      <h2 style="margin-top:0;">Recent activity</h2>
      <div class="row" id="recent"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="app-footer">
    <span id="version">v0.0.0</span><span>•</span><span id="df-date-footer"></span>
  </footer>

  <!-- Data + Core -->
  <script src="assets/data/menus.js"></script>
  <script src="js/core.js"></script>
  <script>
  // Page-only wiring
  (function(){
    const recent=document.getElementById('recent');
    [
      {label:'Imported planting logs (Apr 2024)', href:'crop-production/crop-planting.html'},
      {label:'Added equipment “S780”', href:'equipment/equipment-combines.html'},
      {label:'Generated AI report', href:'reports/reports-ai.html'}
    ].forEach(i=>{
      const a=document.createElement('a'); a.href=i.href; a.className='btn'; a.textContent=i.label; recent.appendChild(a);
    });

    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("serviceworker.js").catch(()=>{});
    }
  })();
  </script>
</body>
</html>