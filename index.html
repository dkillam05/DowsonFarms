<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#365E5A" />
  <title>Farm Vista â€” Home</title>

  <!-- GitHub Pages base -->
  <base href="/FarmVista/">

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <!-- Apple Touch Icons (FarmVista set) -->
  <link rel="apple-touch-icon" sizes="120x120" href="assets/icons/FarmVista-apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/FarmVista-apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="167x167" href="assets/icons/FarmVista-apple-touch-icon-167x167.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/FarmVista-apple-touch-icon-180x180.png" />

  <!-- Prepaint theme (unchanged) -->
  <script>
    (function () {
      var pref = localStorage.getItem('df_theme') || 'auto';
      var dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      var mode = pref === 'auto' ? (dark ? 'dark' : 'light') : pref;
      document.documentElement.setAttribute('data-theme', mode);
      document.documentElement.style.colorScheme = mode === 'dark' ? 'dark' : 'light';
    })();
  </script>

  <!-- Global CSS only -->
  <link rel="stylesheet" href="assets/css/theme.css" />
  <link rel="stylesheet" href="assets/css/drawer.css" />
  <link rel="stylesheet" href="assets/css/header.css" />
  <style>
    body {
      background:
        radial-gradient(circle at 4% -10%, rgba(54, 94, 90, 0.22), transparent 60%),
        radial-gradient(circle at 90% 10%, rgba(216, 193, 121, 0.18), transparent 60%),
        var(--fv-paper);
    }
    main.home {
      padding:24px 18px 48px;
      max-width:960px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:22px;
    }
    .hero-card {
      background:linear-gradient(145deg, rgba(54, 94, 90, 0.92), rgba(216, 193, 121, 0.85));
      border-radius:26px;
      color:#fff;
      padding:32px 28px;
      box-shadow:0 20px 44px rgba(23, 52, 49, 0.28);
      display:grid;
      gap:16px;
    }
    .hero-card h1 {
      margin:0;
      font-size:32px;
      line-height:1.1;
      letter-spacing:-0.01em;
    }
    .hero-card p { margin:0; font-size:16px; line-height:1.5; }
    .hero-pill {
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:999px;
      background:rgba(255, 255, 255, 0.18);
      font-weight:600;
      font-size:13px;
      letter-spacing:0.08em;
      text-transform:uppercase;
    }
    .quick-links {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:18px;
    }
    .quick-links a {
      text-decoration:none;
      color:var(--fv-blue-dark);
      background:rgba(255,255,255,0.92);
      border-radius:22px;
      padding:18px;
      border:1px solid rgba(54, 94, 90, 0.16);
      box-shadow:0 16px 28px rgba(23, 52, 49, 0.14);
      display:flex;
      flex-direction:column;
      gap:6px;
      font-weight:600;
      transition:transform 0.18s ease, box-shadow 0.18s ease;
    }
    .quick-links a span {
      font-size:13px;
      font-weight:500;
      color:rgba(20, 50, 49, 0.72);
    }
    .quick-links a:hover {
      transform:translateY(-3px);
      box-shadow:0 20px 34px rgba(23, 52, 49, 0.2);
    }
    .info-card {
      padding:18px 20px;
      border-radius:20px;
      background:rgba(216, 193, 121, 0.32);
      border:1px solid rgba(54, 94, 90, 0.12);
      color:var(--fv-ink);
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .info-card strong { color:var(--fv-blue-dark); }
    @media (max-width: 560px) {
      .hero-card { padding:26px 22px; border-radius:22px; }
      .hero-card h1 { font-size:26px; }
    }
  </style>
</head>
<body>
  <!-- Main content only. Header/Drawer/Footer are injected by their JS files. -->
  <main class="home">
    <section class="hero-card">
      <span class="hero-pill">Farm Vista â€¢ Dowson Farms</span>
      <h1>Operational clarity for every acre.</h1>
      <p>Welcome to Farm Vista â€” tailored for Dowson Farms and optimized for in-field PWA use. Track equipment, monitor crops, and capture grain data from wherever work happens.</p>
    </section>

    <section class="quick-links" aria-label="Quick actions">
      <a href="grain-tracking/">
        Grain Tracking
        <span>Log tickets, bins, and contracts without leaving the field.</span>
      </a>
      <a href="crop-production/">
        Crop Production
        <span>Access planting, spraying, scouting, and harvest plans.</span>
      </a>
      <a href="equipment/">
        Equipment Center
        <span>Review fleet readiness, maintenance, and assignments.</span>
      </a>
      <a href="feedback/">
        Share Feedback
        <span>Send ideas or issues directly to the Farm Vista team.</span>
      </a>
    </section>

    <section class="info-card">
      <strong>ðŸ“± Pro Tip:</strong>
      Add Farm Vista to your phoneâ€™s home screen for a full-screen, offline-capable experience. Everything here is tuned for quick daily workflows around Dowson Farms.
    </section>
  </main>

  <!-- Data sources -->
  <script src="assets/data/menus.js"></script>
  <script src="assets/data/drawer-menus.js"></script>
  <script src="assets/data/footer-links.js"></script>

  <!-- Single-source version (used in drawer footer) -->
  <script defer src="js/version.js"></script>

  <!-- Firebase + guard (guard also injects the global wait overlay) -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth-guard.js"></script>

  <!-- Global injectors: header, drawer, footer -->
  <script defer src="js/header.js"></script>
  <script type="module" src="js/drawer.js"></script>
  <script defer src="js/footer.js"></script>

  <!-- PWA: register your existing ServiceWorker.js -->
  <script>
    if ('serviceWorker' in navigator) {
      addEventListener('load', function () {
        navigator.serviceWorker.register('/FarmVista/ServiceWorker.js', { scope: '/FarmVista/' })
          .catch(console.warn);
      });
    }
  </script>
</body>
</html>